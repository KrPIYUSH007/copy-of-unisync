<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>UniSync â€” Marketplace</title>
<style>
:root{
  --bg:#f7fafc;
  --card:#ffffff;
  --muted:#6b7280;
  --accent1:#4f46e5;
  --accent2:#06b6d4;
  --radius:18px;
  --shadow:0 6px 20px rgba(16,24,40,0.08);
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto;
}
*{box-sizing:border-box}
body{margin:0;background:linear-gradient(135deg,#eef2ff 0%, #fdf2f8 100%);color:#0f172a;}
.header{background:#fff;border-bottom:1px solid rgba(15,23,42,0.04);position:sticky;top:0;z-index:60;}
.container{max-width:1100px;margin:0 auto;padding:20px;}
.header-inner{display:flex;align-items:center;justify-content:space-between;height:64px;}
.brand{display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;}
.logo{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;
background:linear-gradient(90deg,#2563eb,#7c3aed);}
.brand-title{font-size:20px;font-weight:800;background:linear-gradient(90deg,#2563eb,#7c3aed);-webkit-background-clip:text;background-clip:text;color:transparent}
.layout{display:grid;grid-template-columns:260px 1fr;gap:24px;max-width:1100px;margin:18px auto;padding:0 20px 80px;}
.sidebar{background:var(--card);border-radius:16px;padding:16px;box-shadow:var(--shadow);position:sticky;top:88px;height:fit-content;}
.nav-button{display:flex;align-items:center;gap:10px;padding:10px;border-radius:10px;border:none;background:transparent;width:100%;cursor:pointer;font-weight:600;color:#0f172a;text-decoration:none;}
.nav-button:hover{background:linear-gradient(90deg,#f8fafc,#f6f5ff);}
.nav-button.active{background:linear-gradient(90deg,rgba(79,70,229,0.08),rgba(124,58,237,0.06));}
.btn{padding:9px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:600;}
.btn.primary{background:linear-gradient(90deg,#22c55e,#16a34a);color:#fff;}
.btn.ghost{border:1px solid rgba(15,23,42,0.06);background:transparent;}
.card{background:var(--card);border-radius:14px;padding:18px;box-shadow:var(--shadow);}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;}
@media(max-width:900px){.layout{grid-template-columns:1fr;padding:0 12px}.grid-3{grid-template-columns:1fr}.sidebar{position:relative;top:auto}}
</style>
</head>
<body>
<header class="header">
<div class="container header-inner">
<a href="index.html" class="brand"><div class="logo">U</div><div class="brand-title">UniSync</div></a>
<div style="display:flex;align-items:center;gap:14px">
<div style="font-size:20px">ğŸ””</div><div style="width:36px;height:36px;border-radius:999px;background:#f1f5f9;display:flex;align-items:center;justify-content:center">ğŸ‘¤</div>
<div style="font-size:14px;color:#6b7280">Piyush</div>
</div>
</div>
</header>
<div class="layout">
<aside class="sidebar">
<div style="font-size:12px;color:#6b7280;margin-bottom:10px">Explore</div>
<nav>
<a class="nav-button" href="index.html">ğŸ  Home</a>
<a class="nav-button" href="notes.html">ğŸ“ Notes Sharing</a>
<a class="nav-button active" href="marketplace.html">ğŸ›’ Marketplace</a>
<a class="nav-button" href="events.html">ğŸ“… Events</a>
<a class="nav-button" href="groups.html">ğŸ‘¥ Study Groups</a>
<a class="nav-button" href="forum.html">ğŸ’¬ Q&amp;A Forum</a>
<a class="nav-button" href="messages.html">ğŸ’Œ Messages</a>
<a class="nav-button" href="dashboard.html">ğŸ“Š Dashboard</a>
</nav>
<div style="margin-top:14px;border-top:1px solid rgba(15,23,42,0.04);padding-top:12px">
<div style="font-size:11px;color:#6b7280">Quick actions</div>
<div style="display:flex;gap:8px;margin-top:8px">
<button class="btn primary" onclick="window.location='#post'">Post Item</button>
<button class="btn ghost" onclick="window.location='index.html'">Back to Home</button>
</div>
</div>
</aside>

<section>
<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
<div><h2 style="margin:0;font-size:24px">Marketplace</h2>
<div style="font-size:13px;color:#6b7280">Buy and sell items within your campus community.</div></div>
</div>

<!-- Search and Filter Section -->
<div class="card" style="margin-bottom:20px">
  <div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap">
    <input type="text" id="searchInput" placeholder="Search items..." style="flex:1;min-width:200px;padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)" />
    <select id="categoryFilter" style="padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)">
      <option value="all">All Categories</option>
      <option value="electronics">Electronics</option>
      <option value="books">Books</option>
      <option value="furniture">Furniture</option>
      <option value="clothing">Clothing</option>
      <option value="sports">Sports</option>
      <option value="calculators">Calculators</option>
      <option value="other">Other</option>
    </select>
    <select id="conditionFilter" style="padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)">
      <option value="all">All Conditions</option>
      <option value="new">New</option>
      <option value="like-new">Like New</option>
      <option value="good">Good</option>
      <option value="fair">Fair</option>
      <option value="poor">Poor</option>
    </select>
    <button class="btn primary" onclick="loadMarketplaceItems()">Search</button>
  </div>
</div>

<!-- Loading indicator -->
<div id="loadingIndicator" style="text-align:center;padding:40px;display:none">
  <div style="font-size:18px;color:#6b7280">Loading marketplace items...</div>
</div>

<!-- Items Grid -->
<div id="itemsGrid" class="grid-3">
  <!-- Items will be dynamically loaded here -->
</div>

<!-- No items message -->
<div id="noItemsMessage" class="card" style="text-align:center;padding:40px;display:none">
  <div style="font-size:40px;margin-bottom:16px">ğŸ“¦</div>
  <div style="font-size:18px;color:#6b7280">No items found</div>
  <div style="font-size:14px;color:#9ca3af;margin-top:8px">Be the first to post an item!</div>
</div>

<div id="post" class="card" style="margin-top:20px">
<h3 style="margin:0 0 10px 0">Post a New Item</h3>
<form id="postItemForm" onsubmit="event.preventDefault();postMarketplaceItem()">
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px">
    <input id="itemTitle" required placeholder="Item Name *" style="padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)" />
    <input id="itemPrice" type="number" required placeholder="Price (â‚¹) *" min="0" style="padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)" />
  </div>

  <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px">
    <select id="itemCategory" required style="padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)">
      <option value="">Select Category *</option>
      <option value="general">General</option>
      <option value="electronics">Electronics</option>
      <option value="books">Books</option>
      <option value="furniture">Furniture</option>
      <option value="clothing">Clothing</option>
      <option value="sports">Sports</option>
      <option value="calculators">Calculators</option>
      <option value="other">Other</option>
    </select>
    <select id="itemCondition" required style="padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)">
      <option value="">Select Condition *</option>
      <option value="new">New</option>
      <option value="like-new">Like New</option>
      <option value="good">Good</option>
      <option value="fair">Fair</option>
      <option value="poor">Poor</option>
    </select>
  </div>

  <textarea id="itemDescription" placeholder="Description (optional)" rows="3" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06);margin-bottom:12px;resize:vertical"></textarea>

  <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px">
    <input id="sellerName" required placeholder="Your Name *" style="padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)" />
    <input id="sellerContact" required placeholder="Your Contact (Email/Phone) *" style="padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)" />
  </div>

  <div style="margin-bottom:12px">
    <input id="sellerInfo" placeholder="Your Info (Department/Year - optional)" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)" />
  </div>

  <div style="margin-bottom:12px">
    <input id="itemLocation" placeholder="Location (Campus Area - optional)" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)" />
  </div>

  <div style="margin-bottom:16px">
    <label for="itemImages" style="display:block;margin-bottom:6px;font-size:14px;color:#4b5563">Images (up to 4, max 5MB each)</label>
    <input id="itemImages" type="file" multiple accept="image/*" style="width:100%;padding:6px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)" />
  </div>

  <div style="display:flex;gap:10px">
    <button type="submit" id="submitBtn" class="btn primary">Post Item</button>
    <button type="button" class="btn ghost" onclick="resetPostForm()">Clear</button>
  </div>
</form>
</div>

<!-- Message Modal -->
<div id="messageModal" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);display:none;z-index:1000;align-items:center;justify-content:center">
  <div class="card" style="max-width:500px;width:90%;max-height:80vh;overflow-y:auto">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
      <h3 style="margin:0">Send Message</h3>
      <button onclick="closeMessageModal()" style="background:none;border:none;font-size:24px;cursor:pointer;color:#6b7280">Ã—</button>
    </div>
    <div id="messageItemInfo" style="margin-bottom:16px;font-size:14px;color:#6b7280"></div>
    <form onsubmit="event.preventDefault();sendMessage()">
      <input type="hidden" id="messageItemId" />
      <div style="margin-bottom:12px">
        <input id="senderName" required placeholder="Your Name *" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)" />
      </div>
      <div style="margin-bottom:12px">
        <input id="senderContact" required placeholder="Your Contact (Email/Phone) *" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)" />
      </div>
      <div style="margin-bottom:16px">
        <textarea id="messageText" required placeholder="Your message *" rows="4" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06);resize:vertical"></textarea>
      </div>
      <div style="display:flex;gap:10px">
        <button type="submit" class="btn primary">Send Message</button>
        <button type="button" class="btn ghost" onclick="closeMessageModal()">Cancel</button>
      </div>
    </form>
  </div>
</div>


</section>
</div>
</body>
</html>
